MikuMikuMoving対応版

CannonParticle_MMM.fxm ver0.0.4

打ち出し式のパーティクルエフェクトです．
粒子量をキーフレーム登録することで,打ち出しの開始･終了が自然な形で表現できます．
ステージ演出装置のカノン砲のような使い方ができると思います．


・使用方法
(1)CannonParticle_MMM.fxmをMMMにロードしてください．
(2)描画順序はできるだけ後の方にしてください．
(3)必要に応じてfxmファイルの先頭パラメータを変更してください．
   デフォルトではサンプルテクスチャとして同梱のsample.png(紙吹雪)が使われていますが,
   テクスチャファイルを差し替えると別のパーティクル表現も可能になります．
(5)MMMのエフェクトプロパティで以下の変更が可能です。
    X,Y,Z,Rx,Ry,Rz：発射位置,発射方向設定してください。
    拡大    ：粒子の放出量(大きくすると途中で弾切れになることがあります.逆に大きくして一発放出するのもありかも,UIアノテーションでも変更可)
    アルファ：粒子の透過度
    その他UIアノテーションより追加したパラメータ変更が可能です。


・時間コントロールの方法ついて
同梱のTimeControl.xを用いると粒子の運動に対する時間の流れを遅くしたり、停止させたりできます。
スローモーションの演出や、静止画の出力などに便利です。
(1)TimeControl.xをMMMにロードしてください。アクセ自体は表示されません。
(2)TimeControl.xの描画順を必ずCannonParticle_MMM.fxmよりも前になるようにして下さい。
(3)TimeControl.xのアクセサリパラメータで以下の変更が可能です。
    Si：0にするとフレームを移動させた時だけ時間が流れます。静止画出力の時にご利用下さい。
    Tr：時間の進行度、0にすると停止します。
  ※モニターより大きいサイズでの出力はうまく行かない場合があります。



・注意点
一度に描画できる最大数粒子はfxmファイルの先頭パラメータで変更できます．設定した数以上の粒子を発生させるような
状況になると発生中の粒子が消失するまで新たな粒子を放出しなくなります．

※このFXファイルをMMEで使用するにはVTF(Vertex Texture Fetch)対応のSM3.0グラフィックボードが必須になります。

※このエフェクトはMME仕様のエフェクトをMikuMikuMoving向けに改変したものです。MME版はMMMでも一応動きますが、
ここではUIアノテーションの追加や動的パースの対応などMMM専用エフェクトとして最適化しています。


・更新履歴
v0.0.4  2014/5/20   時間コントロールの制御アクセTimeControl.x追加
                    MMD照明色の連動を追加、内部コードの整理
v0.0.3  2013/6/26   一度に描画できる粒子の数をfxファイルの先頭パラメータで変更可能に、事実上
                    無制限に粒子を発生させられるようにした(重くなるけど)、粒子数は1024の倍数で指定
                    一時的に粒子が途切れる問題を修正、粒子発生アルゴリズムの改良
                    粒子描画にスフィアマップ追加
                    粒子初期パラメータ・乱数テクスチャをPNGからPFMに変更
                    MikuMikuMoving版の追加
v0.0.2  2012/9/10   x64版の対応、パラメータ更新時に表示がおかしくなるバグ修正
                    粒子発生アルゴリズムを一部変更,テクスチャのミップマップ生成追加
v0.0.1  2011/9/14   初回版公開


・免責事項
ご利用・改変・二次配布は自由にやっていただいてかまいません。連絡も不要です。
ただしこれらの行為は全て自己責任でやってください。
このプログラム使用により、いかなる損害が生じた場合でも当方は一切の責任を負いません。


by 針金P
Twitter : @HariganeP


